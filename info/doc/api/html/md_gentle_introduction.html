<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BioCASe Monitor: BioCASe Monitor 2.1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="biocase-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BioCASe Monitor
   &#160;<span id="projectnumber">2.1</span>
   </div>
   <div id="projectbrief">Monitoring Service for the BioCASe Provider Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BioCASe Monitor 2.1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BMS is a web application relying on jQuery 2.1.4, Bootstrap 3.3.7 and a Sqlite3 Database. It is designed to be a GUI aggregation tool for different BioCASe Provider Software installations (BPS). There are 3 entry points: for the backend, the frontend, and the webservices. Each entrypoint is a index.php file which acts as a controller for dispatching the routes, and builds the html skeleton. Further processing is managed by a javascript file defining functions to populate the skeleton.</p>
<p>The database holds general metadata about the data providers, infos about the data to be fetched, and expert knowledge about the schemas, their concepts, their mappings, and the rules to be applied. Furthermore, credentials for the backend access are stored here.</p>
<h2>Database</h2>
<p>Infos of the Data Providers include:</p><ul>
<li>id, name, shortname, institution Url, BPS Url, status</li>
<li>Datasource access points</li>
<li>Concepts to be counted</li>
<li>XML archives</li>
<li>useful links</li>
</ul>
<p>Expert Knowledge:</p><ul>
<li>schemas with shortname and Urn</li>
<li>mappings between schemas</li>
<li>mapped elements for each schema mapping</li>
<li>rules for each schema element</li>
</ul>
<h2>Backend</h2>
<p>Access to the backend is only granted to registered users. Each user has only editing permissions to his associated data provider. The basic metadata, the count concepts and the Datasource Access Points, together with their archives and useful links, are loaded from the database and displayed in a tabbed view. For each Datasource access point (DSA) CURL requests are made to the BPS, in order to help to fill in the needed additional data from a dropdown-list such as the BPS Url, the DataSet, and the schema. The only field with free text input is the title field. These CURL requests are operated by a PHP script and launched via AJAX. There are about 6 AJAX requests per DSA, so depending on the response time of the BPS server, you will have to wait a few seconds. A progress bar showing the pending AJAX requests is displayed in real time.</p>
<p>The backend has CRUD functionalities to manage DSAs. The CRUD functions are written in PHP, with PDO to access the database. They are called via AJAX, and triggered by click events on the appropriate buttons.</p>
<h2>Frontend</h2>
<p>function frontController($route) { 791 switch ($route) { 792 case 'getMessages': 793 echo $this-&gt;<a class="el" href="general_8js.html#ad9f2873ff9e09926e2f18c529721c6f8">getMessages()</a>; 794 exit; 795 796 case 'getSchema': 797 $schema = filter_input(INPUT_GET, 'schema'); 798 echo $this-&gt;getSchema($schema); 799 exit; 800 801 case 'getCurrentRecords': 802 $providerId = filter_input(INPUT_GET, 'idProvider'); 803 $schema = filter_input(INPUT_GET, 'schema'); 804 $url = filter_input(INPUT_GET, 'url'); 805 $filter = filter_input(INPUT_GET, 'filter'); 806 $nocache = intval(filter_input(INPUT_GET, 'nocache')); 807 echo $this-&gt;getCurrentRecords($providerId, $schema, $url, $filter, $nocache); 808 exit; 809 810 case 'getCountConcepts': 811 $providerId = filter_input(INPUT_GET, 'idProvider'); 812 $schema = filter_input(INPUT_GET, 'schema'); 813 $url = filter_input(INPUT_GET, 'url'); 814 $concept = filter_input(INPUT_GET, 'concept'); 815 $specifier = filter_input(INPUT_GET, 'specifier'); 816 $filter = filter_input(INPUT_GET, 'filter'); 817 $nocache = intval(filter_input(INPUT_GET, 'nocache')); 818 echo $this-&gt;getCountConcepts($providerId, $schema, $url, $concept, $specifier, $filter, $nocache); 819 exit; 820 821 case 'getCitation': 822 $providerId = filter_input(INPUT_GET, 'idProvider'); 823 $url = filter_input(INPUT_GET, 'url'); 824 $filter = filter_input(INPUT_GET, 'filter'); 825 $cached = intval(filter_input(INPUT_GET, 'cached')); 826 echo $this-&gt;getCitation($providerId, $url, $filter, $cached); 827 exit; 828 829 case 'getConcepts': 830 $providerId = filter_input(INPUT_GET, 'idProvider'); 831 echo $this-&gt;getConcepts($providerId); 832 exit; 833 834 case 'getMaxCalls': 835 $providerId = filter_input(INPUT_GET, 'idProvider'); 836 echo $this-&gt;getMaxCalls($providerId); 837 exit; 838 839 case 'getTotalMaxCalls': 840 echo $this-&gt;getTotalMaxCalls(); 841 exit; 842 843 case 'getProviderMainData': 844 $providerId = filter_input(INPUT_GET, 'idProvider'); 845 echo $this-&gt;getProviderMainData($providerId); 846 exit; 847 848 default: 849 // display start page 850 // $content_type = "text/html"; 851 // header('Content-type: ' . $content_type . ', charset=utf-8'); 852 } 853 } 854</p>
<h2><a class="el" href="namespace_webservices.html">Webservices</a></h2>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
